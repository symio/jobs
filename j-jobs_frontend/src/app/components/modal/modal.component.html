<!-- src/app/components/modal/modal.component.html -->
<div class="modal-overlay" *ngIf="isOpen" (click)="onBackdropClick($event)">
    <div class="modal-container">
        <div class="modal-header">
            <div class="modal-icon" [ngClass]="getIconClass()">
                <span [innerHTML]="getIcon()"></span>
            </div>
            <h2 class="modal-title">{{ config?.title }}</h2>
        </div>

        <div class="modal-body">
            <p class="modal-message" [innerHTML]="config?.message"></p>
        </div>

        <div class="modal-footer">
            <button
                *ngIf="config?.showCancel"
                type="button"
                class="cta-button primary"
                [ngClass]="getButtonClass('cancel')"
                (click)="onCancel()"
                >
                {{ config?.cancelText || 'Annuler' }}
            </button>
            <button
                type="button"
                class="cta-button"
                [ngClass]="getConfirmButtonClasses()"
                (click)="onConfirm()"
                >
                {{ config?.confirmText || 'OK' }}
            </button>
        </div>
    </div>
</div>
<div class="modal-overlay" *ngIf="isStatusOpen" (click)="onBackdropClickStatus($event)">
    <div class="modal-container">
        <div class="modal-header">
            <div class="modal-icon" [ngClass]="getIconClass()">
                <span [innerHTML]="getIcon()"></span>
            </div>
            <h2 class="modal-title">{{ configStatus?.title }}</h2>
        </div>

        <div class="modal-body">
            <p class="modal-message" [innerHTML]="configStatus?.message"></p>

            <!-- Formulaire de sélection du statut -->
            <div class="form-group" style="margin-top: 1.5rem;">
                <label for="statusSelect" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">
                    Nouveau statut :
                </label>
                <select 
                    id="statusSelect" 
                    [value]="selectedStatus"
                    (change)="onStatusChange($event)"
                    style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;"
                    >
                    <option value="" disabled="">Sélectionner un statut</option>
                    <option *ngFor="let option of statusOptions | keyvalue" [value]="option.key">
                        {{ option.value }}
                    </option>
                </select>
            </div>
        </div>

        <div class="modal-footer">
            <button
                type="button"
                class="cta-button primary"
                (click)="onCancelStatus()"
                >
                {{ configStatus?.cancelText || 'Annuler' }}
            </button>
            <button
                type="button"
                class="cta-button validate"
                (click)="onConfirmStatus()"
                [disabled]="!selectedStatus"
                >
                {{ configStatus?.confirmText || 'Confirmer' }}
            </button>
        </div>
    </div>
</div>
