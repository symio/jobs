<main class="newpassword-page-container">
    <section class="main-title-section">
        <h1 class="main-title">{{ mainTitle }}</h1> 
    </section>

    <div class="newpassword-form-wrapper">
        <section class="content-section">
            <div *ngIf="error" class="alert alert-error">
                {{ error }}
            </div>

            <form [formGroup]="newPasswordForm" (ngSubmit)="onSubmit()">
                <!-- Email -->
                <div
                    class="form-group"
                    [class.is-invalid]="email?.invalid && email?.touched"
                    >
                    <label for="email" class="form-label required">E-Mail</label>
                    <input
                        type="email"
                        id="email"
                        formControlName="email"
                        [class.error]="email?.invalid && email?.touched"
                        placeholder="Entrez votre e-mail"
                        autocomplete="username"
                        />
                    <div *ngIf="email?.invalid && email?.touched" class="error-message">
                        <div *ngIf="email?.errors?.['required']">
                            L'adresse e-mail est requise
                        </div>
                        <div *ngIf="email?.errors?.['email']">
                            Veuillez entrer une adresse e-mail valide
                        </div>
                    </div>
                </div>
                <div class="paragraph-section">
                    <p>
                        Un E-mail de validation de votre demande vous sera envoyé.<br>
                        Il contiens un lien vous permettant de valider votre demande et changer de mot de passe.<br>
                        Vous ne pourrez pas utiliser l'application sans cette vérification.<br>
                        Vous pouvez annuler cette vérification en suivant les instruction contenues dans l'e-mail.<br>
                        Vous récupèrerez, ainsi, l'accès à votre compte mais le mot de passe ne sera pas modifié.
                    </p>
                </div>
                <div class="cta-section">
                    <button
                        type="submit"
                        class="cta-button primary"
                        [disabled]="newPasswordForm.invalid || loading"
                        >
                        <span *ngIf="loading" class="loading-text">Envoi en cours...</span>
                        <span *ngIf="!loading">Envoyer</span>
                    </button>
                </div>
            </form>
        </section>
    </div>
</main>